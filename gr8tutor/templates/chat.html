{% extends "gr8tutor/base.html" %}
{% block title %}Chat{% endblock %}

{% block content %}
<h2>Chat with {{ other_party.username }}</h2>

<div class="chat-box">
    {% for msg in messages %}
    <p>
        <strong>{{ msg.sender.username }}:</strong> {{ msg.text }}
        <small>({{ msg.time|date:"H:i" }})</small>
    </p>
    {% empty %}
    <p>No messages yet.</p>
    {% endfor %}
</div>

<form method="post">
    {% csrf_token %}
    <textarea name="text" rows="2" class="form-control" placeholder="Type your message"></textarea>
    <button type="submit" class="btn btn-primary mt-2">Send</button>
</form>
{% endblock %}